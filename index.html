<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>예수믿음교회 - 성경 히어로 테스트</title>
    <!-- 외부 라이브러리 로드 -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <!-- [필독] 이 파일 안에는 <script>window.BIBLE_APP_CONFIG...</script> 코드를 넣지 마세요! -->
    <!-- 그 코드는 오직 Netlify Snippet Injection 설정창에만 넣어야 합니다. -->

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700;900&display=swap');
        body { font-family: 'Noto Sans KR', sans-serif; -webkit-tap-highlight-color: transparent; word-break: keep-all; }
        .animate-fade-in { animation: fadeIn 0.6s ease-out forwards; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(15px); } to { opacity: 1; transform: translateY(0); } }
        .spinner {
            border: 4px solid rgba(79, 70, 229, 0.1);
            width: 48px;
            height: 48px;
            border-radius: 50%;
            border-left-color: #4f46e5;
            animation: spin 1s linear infinite;
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        .image-glow { box-shadow: 0 0 40px rgba(79, 70, 229, 0.4); border: 8px solid white; }
    </style>
</head>
<body class="bg-indigo-50">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        const Icon = ({ name, className }) => {
            useEffect(() => {
                if (window.lucide) window.lucide.createIcons();
            }, [name]);
            return <i data-lucide={name} className={className}></i>;
        };

        const getApiKey = () => {
            // Netlify가 성공적으로 주입했다면 window.BIBLE_APP_CONFIG가 존재해야 합니다.
            const config = window.BIBLE_APP_CONFIG;
            
            if (!config || !config.API_KEY || config.API_KEY.includes("{{env:")) {
                return ""; 
            }
            return config.API_KEY;
        };

        const HapdongLogo = () => (
            <svg width="32" height="40" viewBox="0 0 100 130" className="mr-3 filter drop-shadow-sm inline-block align-middle">
                <path d="M15 15 L48 25 L48 115 L15 125 Z" fill="#00ADEF" /> 
                <path d="M85 15 L52 25 L52 115 L85 125 Z" fill="#77BC1F" /> 
                <rect x="46" y="35" width="8" height="70" fill="white" /> 
                <rect x="30" y="55" width="40" height="8" fill="white" /> 
            </svg>
        );

        const heroData = {
            'ISTJ': { name: '모세', title: '철저한 신념의 인도자', persona: '교회의 브레인 행정관', job: '회계사, 공무원, 관리자', behavior: '계획과 원칙을 철저히 지키며 사명을 완수하는 책임감의 표본', verse: '너희는 가만히 있어 여호와께서 오늘 너희를 위하여 행하시는 구원을 보라 (출 14:13)', prompt: "Full body 3D Disney Pixar style character of Moses, wise elderly man, kind eyes, long white beard, holding a wooden staff, cinematic lighting, 8k render." },
            'ISFJ': { name: '룻', title: '신실하고 따뜻한 조력자', persona: '교회의 힐링 멘토', job: '간호사, 사회복지사, 선생님', behavior: '겸손하고 인내심이 강하며 주변의 필요를 묵묵히 챙겨주는 서포터', verse: '어머니께서 가시는 곳에 나도 가고 어머니께서 머무시는 곳에서 나도 머물겠나이다 (룻 1:16)', prompt: "Full body 3D Disney Pixar style character of Ruth, young woman with a gentle smile, holding grain, warm golden hour lighting." },
            'INFJ': { name: '예레미야', title: '통찰력 있는 중보자', persona: '신비로운 고민 상담가', job: '상담가, 작가, 예술가', behavior: '세상을 향한 깊은 공감 능력을 가졌으며 타인을 위해 눈물로 기도하는 중보자', verse: '나의 마음이 불붙는 것 같아서 답답하여 견딜 수 없나이다 (렘 20:9)', prompt: "Full body 3D Disney Pixar style character of Jeremiah, deep pensive expression, compassionate eyes, emotional lighting." },
            'INTJ': { name: '다니엘', title: '단단한 믿음의 지략가', persona: '스마트한 청년 리더', job: '연구원, 기획자, 개발자', behavior: '지혜롭게 원칙을 지키며 유혹 앞에서도 뜻을 굽히지 않는 전략가', verse: '다니엘이 뜻을 정하여 왕의 음식으로 자기를 더럽히지 아니하리라 (단 1:8)', prompt: "Full body 3D Disney Pixar style character of Daniel, intelligent handsome young man, holding a scroll, ancient Babylonian palace." },
            'ISTP': { name: '기드온', title: '실천적인 해결사', persona: '교회의 츤데레 맥가이버', job: '기술자, 요리사, 파일럿', behavior: '과묵해 보이지만 상황을 정확히 판단하여 효율적인 해결책을 찾는 해결사', verse: '큰 용사여 여호와께서 너와 함께 계시도다 (삿 6:12)', prompt: "Full body 3D Disney Pixar style character of Gideon, brave warrior, holding a trumpet and a torch, dynamic action lighting." },
            'ISFP': { name: '마리아', title: '순수한 예술 예배자', persona: '감성 충만 성가대 누나', job: '디자이너, 화가, 음악가', behavior: '온유하고 순수한 진심을 담아 가장 소중한 것을 하나님께 아낌없이 헌신함', verse: '주의 여종이오니 말씀대로 내게 이루어지이다 (눅 1:38)', prompt: "Full body 3D Disney Pixar style character of Mary, radiant young woman, peaceful smile, divine atmosphere, 3D render." },
            'INFP': { name: '사도요한', title: '사랑의 낭만주의자', persona: '평화로운 교회 오빠', job: '크리에이터, 작가, 활동가', behavior: '내면 세계가 따뜻하고 풍부하며 갈등보다 사랑과 평화를 소중히 여김', verse: '사랑하는 자들아 우리가 서로 사랑하자 사랑은 하나님께 속한 것이니 (요일 4:7)', prompt: "Full body 3D Disney Pixar style character of Apostle John, gentle young man looking at a bird, serene lake background." },
            'INTP': { name: '솔로몬', title: '지혜로운 탐구자', persona: '교회의 걸어다니는 백과사전', job: '학자, 철학자, 전략가', behavior: '아이디어가 끊이지 않으며 세상을 자신만의 논리로 명쾌하게 정리하는 지혜자', verse: '여호와를 경외하는 것이 지식의 근본이어늘 (잠 1:7)', prompt: "Full body 3D Disney Pixar style character of King Solomon, golden crown, wise eyes, ancient scrolls background." },
            'ESTP': { name: '삼손', title: '에너지 넘치는 액션스타', persona: '활동적인 청년부 에이스', job: '운동선수, 영업직, 소방관', behavior: '두려움 없는 도전 정신과 엄청난 에너지로 현장을 누비는 주인공', verse: '주 여호와여 구옵나니 나를 생각하옵소서... (삿 16:28)', prompt: "Full body 3D Disney Pixar style character of Samson, very strong muscular man, heroic pose, energetic lighting." },
            'ESFP': { name: '다윗', title: '기쁨의 찬양가', persona: '교회 최고의 스타 플레이어', job: '연예인, 마케터, 홍보 전문가', behavior: '낙천적이며 주변을 즐겁게 만드는 탁월한 예술가적 재능의 소유자', verse: '다윗이 여호와 앞에서 힘을 다하여 춤을 추는데 (삼하 6:14)', prompt: "Full body 3D Disney Pixar style character of young David, playing golden harp, joyful expression, sunny shepherd hills." },
            'ENFP': { name: '베드로', title: '열정적인 선구자', persona: '분위기 메이커 전도 대장', job: 'PD, 가이드, 자유 기고자', behavior: '풍부한 열정을 가졌으며 새로운 일에 뛰어드는 것을 두려워하지 않는 개척자', verse: '주는 그리스도시요 살아 계신 하나님의 아들이시니이다 (마 16:16)', prompt: "Full body 3D Disney Pixar style character of Peter the Apostle, energetic bold expression, fisherman outfit, blue sea." },
            'ENTP': { name: '야곱', title: '영리한 아이디어 뱅크', persona: '재치 만점 교회 청년', job: '발명가, 기획자, 변호사', behavior: '임기응변이 뛰어나고 기발한 방식으로 난관을 극복하는 전략가', verse: '내게 축복하지 아니하면 가게 하지 아니하겠나이다 (창 32:26)', prompt: "Full body 3D Disney Pixar style character of Jacob, clever witty face, adventurous traveler gear, starry night ladder." },
            'ESTJ': { name: '여호수아', title: '강인한 실행 리더', persona: '든든한 청년부 회장님', job: '경영자, 경찰, 군인', behavior: '질서와 체계를 중요시하며 목표를 향해 조직을 체계적으로 이끄는 카리스마', verse: '강하고 담대하라 두려워하지 말며 놀라지 말라 (수 1:9)', prompt: "Full body 3D Disney Pixar style character of Joshua the commander, strong leader stance, leading an army, epic sunset." },
            'ESFJ': { name: '마르다', title: '친절한 수호자', persona: '다정다감한 교회 언니', job: '호텔리어, 서비스 매니저, 교사', behavior: '사람들을 섬기는 것에 기쁨을 느끼며 공동체의 화합을 위해 솔선수범함', verse: '마르다는 준비하는 일이 많아 마음이 분주한지라 (눅 10:40)', prompt: "Full body 3D Disney Pixar style character of Martha, friendly caring smile, neat apron, ancient kitchen setting." },
            'ENFJ': { name: '요셉', title: '비전 있는 중재자', persona: '차세대 글로벌 리더', job: '외교관, 인사관리자, 팀장', behavior: '공동체의 미래를 내다보고 사람들의 마음을 하나로 묶는 따뜻한 리더십', verse: '하나님은 그것을 선으로 바꾸사 오늘과 같이 많은 백성의 생명을 구원하게 (창 50:20)', prompt: "Full body 3D Disney Pixar style character of Joseph, colorful royal coat, noble posture, kind visionary eyes." },
            'ENTJ': { name: '사도바울', title: '담대한 전략 리더', persona: '프런티어 선교 열정가', job: 'CEO, 정치 지도자, 법률가', behavior: '단호하고 추진력이 강하며 비전을 현실로 만들기 위해 모든 것을 던지는 사명자', verse: '나의 달려갈 길과 주 예수께 받은 사명을 마치려 함에는... (행 20:24)', prompt: "Full body 3D Disney Pixar style character of Apostle Paul, focused look, traveler gear, dramatic cinematic lighting." }
        };

        const questions = [
            { id: 1, type: 'EI', q: "모처럼의 휴일, 당신의 충전 방식은?", a1: "왁자지껄 친구들과 만나 수다 떨며 에너지를 얻는다", a2: "조용히 집에서 나만의 시간을 즐기며 에너지를 충전한다" },
            { id: 2, type: 'SN', q: "여행 계획을 세울 때 당신은?", a1: "가야 할 장소와 시간을 꼼꼼하게 기록해둔다", a2: "큰 가닥만 잡고 가서 끌리는 곳으로 향한다" },
            { id: 3, type: 'TF', q: "친구가 힘든 고민을 털어놓는다면?", a1: "해결책이 뭔지 같이 고민하고 현실적으로 조언한다", a2: "충분히 공감해주고 친구의 마음을 먼저 다독인다" },
            { id: 4, type: 'JP', q: "방 청소를 하려고 마음먹었다면?", a1: "어디부터 치울지 정해서 한 번에 끝낸다", a2: "치우다가 옛날 물건이 나오면 구경하느라 멈춘다" },
            { id: 5, type: 'EI', q: "모임에서 대화가 끊겼을 때 나는?", a1: "어색함을 못 참고 아무 말이나 던져 분위기를 띄운다", a2: "누군가 대화를 시작할 때까지 가만히 기다린다" },
            { id: 6, type: 'SN', q: "물건을 새로 샀을 때?", a1: "설명서를 1번부터 차례대로 정독한다", a2: "일단 전원을 켜고 이것저것 눌러보며 감으로 익힌다" },
            { id: 7, type: 'TF', q: "다른 사람의 실수를 지적해야 한다면?", a1: "잘못된 부분을 정확하고 논리적으로 설명해준다", a2: "상대방이 상처받지 않게 최대한 부드럽게 말한다" },
            { id: 8, type: 'JP', q: "나의 가방이나 책상 상태는?", a1: "물건들이 제자리에 정리되어 있어야 마음이 편하다", a2: "어질러진 것 같지만 나름대로 다 찾을 수 있다" },
            { id: 9, type: 'EI', q: "내가 생각하는 진정한 힐링은?", a1: "즐거운 파티나 모임에서 실껏 웃고 노는 것", a2: "조용한 카페에서 책을 읽거나 좋아하는 음악을 듣는 것" },
            { id: 10, type: 'SN', q: "설명을 들을 때 나는?", a1: "실제로 겪은 사실과 구체적인 사례를 선호한다", a2: "비유나 상징을 섞은 전체적인 느낌을 선호한다" },
            { id: 11, type: 'TF', q: "친구에게 감동을 받는 순간은?", a1: "나의 문제를 해결할 수 있는 똑똑한 제안을 해줄 때", a2: "나의 슬픔을 자기 일처럼 생각하고 위로해줄 때" },
            { id: 12, type: 'JP', q: "마감 기한이 정해진 일을 할 때?", a1: "미리미리 계획을 세워 여유 있게 끝내는 편이다", a2: "마지막에 집중력을 폭발시켜 한꺼번에 끝내는 편이다" },
            { id: 13, type: 'EI', q: "내가 생각하는 나의 평소 모습은?", a1: "활동적이고 먼저 다가가는 인싸형", a2: "신중하고 차분하게 지켜보는 아싸형" },
            { id: 14, type: 'SN', q: "하늘의 구름을 보면 드는 생각은?", a1: "비가 오려나? 우산을 챙겨야겠다", a2: "강아지 모양 같아! 저 구름은 어디로 갈까?" },
            { id: 15, type: 'TF', q: "드라마를 볼 때 나는?", a1: "줄거리의 개연성이나 연출의 완성도를 평가한다", a2: "주인공의 감정에 이입해서 어느새 울고 있다" },
            { id: 16, type: 'JP', q: "약속 시간 10분 전, 나는?", a1: "이미 도착했거나 약속 장소 근처에 있다", a2: "이제 막 출발했거나 부지런히 서두르고 있다" },
            { id: 17, type: 'EI', q: "나의 감정 표현은?", a1: "솔직하고 풍부하게 밖으로 잘 드러낸다", a2: "내면에서 정리하고 겉으로는 잘 드러내지 않는다" },
            { id: 18, type: 'SN', q: "미래에 대해 생각할 때?", a1: "당장 내일이나 이번 달의 구체적인 계획이 즐겁다", a2: "먼 미래의 꿈이나 막연한 비전 상상이 즐겁다" },
            { id: 19, type: 'TF', q: "나를 더 기쁘게 하는 칭찬은?", a1: "너 진짜 똑똑하다! 일 처리 완벽하네", a2: "너는 정말 마음이 따뜻한 사람이야, 고마워" },
            { id: 20, type: 'JP', q: "나의 생활 스타일은?", a1: "체계적이고 안정적인 루틴을 선호한다", a2: "자유롭고 매일 새로운 자극이 있는 게 좋다" }
        ];

        const App = () => {
            const [step, setStep] = useState('start');
            const [currentIdx, setCurrentIdx] = useState(0);
            const [history, setHistory] = useState([]);
            const [answers, setAnswers] = useState({ E: 0, I: 0, S: 0, N: 0, T: 0, F: 0, J: 0, P: 0 });
            const [mbti, setMbti] = useState('');
            const [resultImg, setResultImg] = useState('');
            const [isGenerating, setIsGenerating] = useState(false);
            const [showToast, setShowToast] = useState(false);

            useEffect(() => {
                if (window.lucide) window.lucide.createIcons();
            }, [step, currentIdx]);

            const handleAnswer = (type, val) => {
                const trait = (val === 1 ? type[0] : type[1]);
                const nextAnswers = { ...answers, [trait]: answers[trait] + 1 };
                
                setHistory([...history, { idx: currentIdx, answers: { ...answers } }]);
                setAnswers(nextAnswers);

                if (currentIdx < questions.length - 1) {
                    setCurrentIdx(currentIdx + 1);
                } else {
                    finalizeResult(nextAnswers);
                }
            };

            const finalizeResult = async (finalAnswers) => {
                setStep('loading');
                let resultStr = '';
                resultStr += (finalAnswers.E >= finalAnswers.I) ? 'E' : 'I';
                resultStr += (finalAnswers.S >= finalAnswers.N) ? 'S' : 'N';
                resultStr += (finalAnswers.T >= finalAnswers.F) ? 'T' : 'F';
                resultStr += (finalAnswers.J >= finalAnswers.P) ? 'J' : 'P';
                
                setMbti(resultStr);
                await generateAIImage(resultStr);
                setStep('result');
            };

            const generateAIImage = async (mbtiType) => {
                const key = getApiKey();
                if (!key) {
                    setIsGenerating(false);
                    return;
                }
                
                setIsGenerating(true);
                const charPrompt = heroData[mbtiType]?.prompt;

                try {
                    const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/imagen-4.0-generate-001:predict?key=${key}`, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ 
                            instances: [{ prompt: charPrompt }], 
                            parameters: { sampleCount: 1 } 
                        })
                    });
                    
                    const data = await response.json();
                    if (data.predictions?.[0]?.bytesBase64Encoded) {
                        setResultImg(`data:image/png;base64,${data.predictions[0].bytesBase64Encoded}`);
                    }
                } catch (e) {
                    console.error("AI Generation Failed", e);
                } finally {
                    setIsGenerating(false);
                }
            };

            const progress = ((currentIdx + 1) / questions.length) * 100;

            return (
                <div className="min-h-screen bg-indigo-50 flex items-center justify-center p-0 md:p-4 selection:bg-indigo-200">
                    <div className="w-full max-w-md bg-white min-h-screen md:min-h-[92vh] shadow-2xl flex flex-col relative overflow-hidden md:rounded-[3rem] border-4 border-indigo-100 animate-fade-in">
                        
                        <header className="bg-white px-6 py-5 flex items-center shrink-0 border-b-2 border-slate-50 z-20">
                            <HapdongLogo />
                            <div>
                                <h1 className="text-xl font-black text-slate-800 tracking-tighter leading-none uppercase">예수믿음교회</h1>
                                <p className="text-[9px] font-bold text-indigo-500 tracking-[0.2em] mt-1 uppercase">Mabuk, Yongin</p>
                            </div>
                        </header>

                        {step === 'start' && (
                            <div className="flex-1 flex flex-col items-center justify-center p-10 text-center space-y-12">
                                <div className="relative">
                                    <div className="w-32 h-32 bg-indigo-600 rounded-[2.5rem] rotate-6 flex items-center justify-center shadow-xl">
                                        <Icon name="user" className="w-16 h-16 text-white -rotate-6" />
                                    </div>
                                    <div className="absolute -bottom-2 -right-4 bg-yellow-400 p-4 rounded-3xl shadow-lg border-4 border-white animate-bounce">
                                        <Icon name="sparkles" className="w-8 h-8 text-white" />
                                    </div>
                                </div>
                                <div className="space-y-4 px-4 text-center">
                                    <h2 className="text-4xl font-black text-slate-900 leading-tight">나와 닮은<br /><span className="text-indigo-600">성경 히어로</span> 찾기</h2>
                                    <p className="text-slate-500 text-sm font-bold leading-relaxed px-2 text-center">3D 디즈니 스타일로 만나는 나의 신앙 영웅!<br />나의 일상으로 알아보는 성경 히어로 테스트</p>
                                </div>
                                <button onClick={() => setStep('quiz')} className="w-full bg-indigo-600 text-white font-black py-6 rounded-3xl text-xl shadow-xl hover:scale-[1.02] active:scale-95 transition-all">테스트 시작하기</button>
                                <p className="text-[10px] text-slate-300 font-bold uppercase tracking-[0.3em]">Jesus Faith Church (Hapdong)</p>
                            </div>
                        )}

                        {step === 'quiz' && (
                            <div className="flex-1 flex flex-col p-8 space-y-12 animate-fade-in">
                                <div>
                                    <div className="flex justify-between items-end mb-3">
                                        <span className="text-3xl font-black text-indigo-600 italic tracking-tighter">STEP {currentIdx + 1}</span>
                                        <span className="text-xs font-black text-slate-300">{currentIdx + 1} / 20</span>
                                    </div>
                                    <div className="h-3 w-full bg-slate-100 rounded-full overflow-hidden">
                                        <div className="h-full bg-indigo-600 transition-all duration-300" style={{ width: `${progress}%` }} />
                                    </div>
                                </div>
                                <div className="flex-1 flex flex-col justify-center space-y-10">
                                    <h3 className="text-2xl font-black text-slate-800 text-center leading-tight break-keep">{questions[currentIdx].q}</h3>
                                    <div className="space-y-4">
                                        <button onClick={() => handleAnswer(questions[currentIdx].type, 1)} className="w-full p-6 bg-white border-4 border-slate-50 rounded-[2rem] text-slate-700 font-bold shadow-lg hover:border-indigo-600 active:scale-95 transition-all text-center">{questions[currentIdx].a1}</button>
                                        <button onClick={() => handleAnswer(questions[currentIdx].type, 2)} className="w-full p-6 bg-white border-4 border-slate-50 rounded-[2rem] text-slate-700 font-bold shadow-lg hover:border-indigo-600 active:scale-95 transition-all text-center">{questions[currentIdx].a2}</button>
                                    </div>
                                </div>
                            </div>
                        )}

                        {step === 'loading' && (
                            <div className="flex-1 flex flex-col items-center justify-center p-8 space-y-8 animate-fade-in text-center">
                                <div className="spinner mb-4"></div>
                                <p className="font-black text-3xl text-slate-800 tracking-tighter italic">성경 히어로 소환 중</p>
                                <p className="text-slate-400 font-bold mt-2 px-8">성령의 감동으로 당신을 닮은<br />멋진 3D 캐릭터가 그려지고 있습니다!</p>
                            </div>
                        )}

                        {step === 'result' && (
                            <div className="flex-1 flex flex-col overflow-y-auto pb-12 animate-fade-in">
                                <div className="p-8 text-center flex flex-col items-center">
                                    <div className="relative w-64 h-64 mx-auto mb-6 flex items-center justify-center">
                                        <div className="absolute inset-0 bg-indigo-200 rounded-[3rem] rotate-3 -z-10 shadow-xl"></div>
                                        <div className={`w-full h-full bg-slate-100 rounded-[2.5rem] shadow-2xl overflow-hidden image-glow flex items-center justify-center`}>
                                            {isGenerating ? (
                                                <div className="flex flex-col items-center gap-3">
                                                    <div className="spinner"></div>
                                                    <span className="text-[10px] font-bold text-slate-400 uppercase tracking-widest text-center">AI Rendering...</span>
                                                </div>
                                            ) : resultImg ? (
                                                <img src={resultImg} className="w-full h-full object-cover animate-fade-in" alt="Character" />
                                            ) : (
                                                <div className="flex flex-col items-center gap-2 text-center p-6">
                                                    <Icon name="user-x" className="w-12 h-12 text-slate-200 mb-2" />
                                                    <p className="text-[10px] font-bold text-red-500 uppercase tracking-tighter">API 연동 확인 필요</p>
                                                    <p className="text-[9px] text-slate-400 leading-tight">Netlify의 설정을 확인하세요.</p>
                                                </div>
                                            )}
                                        </div>
                                    </div>
                                    <p className="text-indigo-600 font-black text-sm tracking-[0.2em] uppercase mb-1 text-center">{heroData[mbti]?.title}</p>
                                    <h1 className="text-5xl font-black text-slate-900 tracking-tighter text-center">{heroData[mbti]?.name}</h1>
                                </div>

                                <div className="px-8 space-y-12">
                                    <div className="space-y-6">
                                        <section className="bg-slate-50 p-8 rounded-[3rem] border border-indigo-100 shadow-inner">
                                            <h3 className="flex items-center gap-2 text-indigo-600 font-black text-xs mb-3 justify-center"><Icon name="heart" className="w-4 h-4 fill-current" /> 행동 범위 유형</h3>
                                            <p className="text-slate-700 font-bold leading-relaxed text-sm text-center break-keep">{heroData[mbti]?.behavior}</p>
                                        </section>
                                        <div className="grid grid-cols-2 gap-4">
                                            <section className="bg-indigo-600 p-6 rounded-[2rem] text-center flex flex-col items-center justify-center min-h-[100px] shadow-lg">
                                                <h3 className="text-indigo-200 font-black text-[10px] mb-2 uppercase tracking-tighter">교회 페르소나</h3>
                                                <p className="text-white font-black text-sm break-keep leading-tight text-center">{heroData[mbti]?.persona || "신실한 영웅"}</p>
                                            </section>
                                            <section className="bg-white p-6 rounded-[2rem] border-4 border-indigo-600 text-center flex flex-col items-center justify-center min-h-[100px] shadow-lg">
                                                <h3 className="text-indigo-600 font-black text-[10px] mb-2 uppercase tracking-tighter">추천 직업</h3>
                                                <p className="text-slate-800 font-black text-[10px] leading-tight break-keep text-center">{heroData[mbti]?.job || "전문가"}</p>
                                            </section>
                                        </div>
                                        <div className="bg-indigo-900 text-white p-8 rounded-[3.5rem] relative shadow-2xl flex flex-col items-center overflow-hidden text-center">
                                            <Icon name="quote" className="w-12 h-12 text-white/10 absolute -top-1 -left-1" />
                                            <p className="text-lg font-bold italic leading-relaxed mb-4 relative z-10 px-4">"{heroData[mbti]?.verse}"</p>
                                            <p className="text-[10px] text-indigo-400 font-bold uppercase tracking-widest italic opacity-60 text-center uppercase">A Message for you</p>
                                        </div>
                                    </div>

                                    <div className="bg-white border-4 border-slate-900 rounded-[4rem] p-10 space-y-10 shadow-2xl relative overflow-hidden text-center">
                                        <div className="flex items-center gap-3 justify-center">
                                            <HapdongLogo />
                                            <h2 className="text-2xl font-black text-slate-900 tracking-tighter text-center leading-none">예수믿음교회</h2>
                                        </div>
                                        <div className="space-y-6">
                                            <div className="flex flex-col items-center gap-2">
                                                <Icon name="map-pin" className="w-5 h-5 text-indigo-600" />
                                                <p className="text-xs font-bold text-slate-800 leading-relaxed text-center">도로명: 경기 용인시 기흥구 마북로154번길 9<br />지번: 경기 용인시 기흥구 마북동 617<br /><span className="opacity-50 font-medium text-[10px]">(교동마을 LG자이 상가 2층)</span></p>
                                            </div>
                                            <div className="grid grid-cols-1 gap-4">
                                                <div className="flex gap-2 items-center justify-center font-bold text-slate-700 text-sm">
                                                    <Icon name="phone" className="w-4 h-4" /> 031-258-8291
                                                </div>
                                                <div className="flex gap-2 items-center justify-center font-bold text-slate-700 text-xs">
                                                    <Icon name="clock" className="w-4 h-4" /> 주일 예배: 오전 11:00 / 오후 2:00
                                                </div>
                                            </div>
                                            <a href="https://naver.me/FG79ACXd" target="_blank" className="w-full bg-slate-900 text-white font-black py-4 rounded-[2rem] flex items-center justify-center gap-3 shadow-lg hover:bg-indigo-600 transition-all active:scale-95 text-center"><Icon name="navigation-2" className="w-5 h-5 fill-current" /> 교회 길찾기 (네이버 지도)</a>
                                        </div>
                                    </div>
                                    <div className="space-y-4 pt-4 flex flex-col items-center w-full">
                                        <button onClick={() => window.location.reload()} className="w-full bg-indigo-600 text-white font-black py-6 rounded-[2.5rem] flex items-center justify-center gap-3 shadow-xl transform active:scale-95 transition-all text-lg text-center"><Icon name="rotate-ccw" className="w-6 h-6" /> 다시 처음부터 하기</button>
                                    </div>
                                </div>
                            </div>
                        )}
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>